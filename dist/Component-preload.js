//@ui5-bundle myapp/Component-preload.js
sap.ui.predefine("myapp/Component", ["sap/ui/core/UIComponent","sap/ui/Device","./model/models"],function(t,e,i){"use strict";return t.extend("myapp.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){t.prototype.init.call(this);this.setModel(i.createDeviceModel(),"device");this.getRouter().initialize()},getContentDensityClass:function(){if(this.contentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this.contentDensityClass=""}else if(!e.support.touch){this.contentDensityClass="sapUiSizeCompact"}else{this.contentDensityClass="sapUiSizeCozy"}}return this.contentDensityClass}})});
sap.ui.predefine("myapp/controller/App.controller", ["./BaseController"],function(t){"use strict";return t.extend("myapp.controller.App",{onInit:function(){this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())}})});
sap.ui.predefine("myapp/controller/BaseController", ["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/ui/core/routing/History"],function(e,t,n){"use strict";return e.extend("myapp.controller.BaseController",{getOwnerComponent:function(){return e.prototype.getOwnerComponent.call(this)},getRouter:function(){return t.getRouterFor(this)},getResourceBundle:function(){const e=this.getOwnerComponent().getModel("i18n");return e.getResourceBundle()},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){this.getView().setModel(e,t);return this},navTo:function(e,t,n){this.getRouter().navTo(e,t,undefined,n)},onNavBack:function(){const e=n.getInstance().getPreviousHash();if(e!==undefined){window.history.go(-1)}else{this.getRouter().navTo("main",{},undefined,true)}}})});
sap.ui.predefine("myapp/controller/Main.controller", ["./BaseController","sap/m/MessageBox","sap/m/MessageToast","sap/ui/model/json/JSONModel"],function(e,t,s,r){"use strict";return e.extend("myapp.controller.Main",{onInit:function(){var e=new r({selectedFiles:[]});this.getView().setModel(e);this._setupMobileCameraCapture()},sayHello:function(){t.show("Hello World!")},_setupMobileCameraCapture:function(){setTimeout(()=>{if(sap.ui.Device.system.phone||sap.ui.Device.system.tablet){var e=this.byId("imageFileUploader");if(e&&e.oFileUpload){e.oFileUpload.setAttribute("capture","environment");e.oFileUpload.setAttribute("accept","image/*")}}},100)},onFileChange:function(e){var t=e.getSource();var r=e.getParameter("files")[0];if(!r){return}if(!this._validateFile(r)){t.clear();return}var i=this.getView().getModel();var o=i.getProperty("/selectedFiles");var l=o.some(function(e){return e.name===r.name&&e.size===r.size});if(l){s.show(this.getResourceBundle().getText("fileAlreadySelected"));t.clear();return}o.push({name:r.name,size:this._formatFileSize(r.size),file:r});i.setProperty("/selectedFiles",o);this.byId("selectedFilesBox").setVisible(true);this.byId("uploadButton").setEnabled(true);s.show(this.getResourceBundle().getText("itemAdded",[r.name]));t.clear()},_validateFile:function(e){var s=e.name;var r=s.split(".").pop().toLowerCase();var i=["jpg","jpeg","png","gif"];if(i.indexOf(r)===-1){t.error(this.getResourceBundle().getText("invalidFileType"));return false}if(e.size>10485760){t.error(this.getResourceBundle().getText("fileTooLarge"));return false}return true},_formatFileSize:function(e){if(e===0)return"0 Bytes";var t=1024;var s=["Bytes","KB","MB","GB"];var r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+s[r]},onDeleteFile:function(e){var t=e.getSource();var r=e.getParameter("listItem");var i=t.indexOfItem(r);var o=this.getView().getModel();var l=o.getProperty("/selectedFiles");var a=l[i].name;l.splice(i,1);o.setProperty("/selectedFiles",l);if(l.length===0){this.byId("selectedFilesBox").setVisible(false);this.byId("uploadButton").setEnabled(false)}s.show(this.getResourceBundle().getText("itemRemoved",[a]))},onUploadPress:function(){var e=this.getView().getModel();var t=e.getProperty("/selectedFiles");if(t.length===0){s.show(this.getResourceBundle().getText("noFilesToUpload"));return}s.show(this.getResourceBundle().getText("uploadStarted"));t.forEach((e,t)=>{this._uploadFile(e.file,t)})},_uploadFile:function(e,r){var i=new FormData;i.append("file",e);i.append("filename",e.name);i.append("filesize",e.size);var o=new XMLHttpRequest;o.onload=()=>{if(o.status===200||o.status===201){s.show(this.getResourceBundle().getText("uploadSuccess",[e.name]));this._removeUploadedFile(r)}else{t.error(this.getResourceBundle().getText("uploadError",[e.name]))}};o.onerror=()=>{t.error(this.getResourceBundle().getText("uploadError",[e.name]))};o.open("POST","/post");o.send(i)},_removeUploadedFile:function(e){var t=this.getView().getModel();var s=t.getProperty("/selectedFiles");s.splice(e,1);t.setProperty("/selectedFiles",s);if(s.length===0){this.byId("selectedFilesBox").setVisible(false);this.byId("uploadButton").setEnabled(false)}},onUploadComplete:function(e){var r=e.getParameter("status");var i=e.getParameter("response");if(r===200||r===201){s.show(this.getResourceBundle().getText("uploadSuccess",["file"]))}else{t.error(this.getResourceBundle().getText("uploadError",["file"]))}}})});
sap.ui.predefine("myapp/model/formatter", function(){"use strict";return{formatValue:function(e){return e&&e.toUpperCase()}}});
sap.ui.predefine("myapp/model/models", ["sap/ui/model/json/JSONModel","sap/ui/model/BindingMode","sap/ui/Device"],function(e,n,i){"use strict";return{createDeviceModel:function(){const o=new e(i);o.setDefaultBindingMode(n.OneWay);return o}}});
sap.ui.require.preload({
	"myapp/i18n/i18n.properties":'appTitle=myapp\nappDescription=UI5 Application myapp\nbtnText=Say Hello\n\n# Upload functionality\nuploadTitle=Add Images\nuploadButton=Upload Files\nselectImageButton=Select Image\nselectImagePlaceholder=Choose image file...\nselectImageTooltip=Select an image file from your device or camera\ntakePictureButton=Take Picture\nselectFromGalleryButton=Choose from Gallery\nimageSelectionHint=Take a new photo or select from your device gallery\nselectedFiles=Selected Files\nfileSize=Size\nfileAlreadySelected=File already selected\nitemAdded=File "{0}" added successfully\nitemRemoved=File "{0}" removed successfully\ninvalidFileType=Invalid file type. Please select image files only (JPG, PNG, GIF).\nfileTooLarge=File size exceeds 10MB limit. Please select a smaller file.\nnoFilesToUpload=No files selected for upload\nuploadStarted=Upload started...\nuploadSuccess=File "{0}" uploaded successfully\nuploadError=Failed to upload file "{0}". Please try again.\n',
	"myapp/i18n/i18n_de.properties":'appTitle=myapp\nappDescription=UI5 Application myapp\nbtnText=Sag Hallo\n\n# Upload functionality\nuploadTitle=Bilder hinzuf\\u00fcgen\nuploadButton=Dateien hochladen\nselectImageButton=Bild ausw\\u00e4hlen\nselectImagePlaceholder=Bilddatei ausw\\u00e4hlen...\nselectImageTooltip=W\\u00e4hlen Sie eine Bilddatei von Ihrem Ger\\u00e4t oder der Kamera aus\ntakePictureButton=Foto aufnehmen\nselectFromGalleryButton=Aus Galerie w\\u00e4hlen\nimageSelectionHint=Neues Foto aufnehmen oder aus der Ger\\u00e4tegalerie ausw\\u00e4hlen\nselectedFiles=Ausgew\\u00e4hlte Dateien\nfileSize=Gr\\u00f6\\u00dfe\nfileAlreadySelected=Datei bereits ausgew\\u00e4hlt\nitemAdded=Datei "{0}" erfolgreich hinzugef\\u00fcgt\nitemRemoved=Datei "{0}" erfolgreich entfernt\ninvalidFileType=Ung\\u00fcltiger Dateityp. Bitte w\\u00e4hlen Sie nur Bilddateien (JPG, PNG, GIF).\nfileTooLarge=Dateigr\\u00f6\\u00dfe \\u00fcberschreitet das 10MB-Limit. Bitte w\\u00e4hlen Sie eine kleinere Datei.\nnoFilesToUpload=Keine Dateien zum Hochladen ausgew\\u00e4hlt\nuploadStarted=Upload gestartet...\nuploadSuccess=Datei "{0}" erfolgreich hochgeladen\nuploadError=Fehler beim Hochladen der Datei "{0}". Bitte versuchen Sie es erneut.\n',
	"myapp/i18n/i18n_en.properties":'appTitle=myapp\nappDescription=UI5 Application myapp\nbtnText=Say Hello\n\n# Upload functionality\nuploadTitle=Add Images\nuploadButton=Upload Files\nselectImageButton=Select Image\nselectImagePlaceholder=Choose image file...\nselectImageTooltip=Select an image file from your device or camera\ntakePictureButton=Take Picture\nselectFromGalleryButton=Choose from Gallery\nimageSelectionHint=Take a new photo or select from your device gallery\nselectedFiles=Selected Files\nfileSize=Size\nfileAlreadySelected=File already selected\nitemAdded=File "{0}" added successfully\nitemRemoved=File "{0}" removed successfully\ninvalidFileType=Invalid file type. Please select image files only (JPG, PNG, GIF).\nfileTooLarge=File size exceeds 10MB limit. Please select a smaller file.\nnoFilesToUpload=No files selected for upload\nuploadStarted=Upload started...\nuploadSuccess=File "{0}" uploaded successfully\nuploadError=Failed to upload file "{0}". Please try again.\n',
	"myapp/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"myapp","type":"application","i18n":"i18n/i18n.properties","title":"{{appTitle}}","description":"{{appDescription}}","applicationVersion":{"version":"1.0.0"},"sourceTemplate":{"id":"generator-ui5-app","version":"1.1.0"}},"sap.ui":{"technology":"UI5","icons":{},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"rootView":{"viewName":"myapp.view.App","type":"XML","id":"app"},"dependencies":{"minUI5Version":"1.140.0","libs":{"sap.ui.core":{},"sap.m":{},"sap.ui.unified":{}}},"handleValidation":true,"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"myapp.i18n.i18n","supportedLocales":["en","de"],"fallbackLocale":"en","async":true}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"myapp.view","controlId":"app","controlAggregation":"pages"},"routes":[{"pattern":"","name":"main","target":"main"}],"targets":{"main":{"viewId":"main","viewName":"Main"}}}}}',
	"myapp/view/App.view.xml":'<mvc:View\n\tcontrollerName="myapp.controller.App"\n\tdisplayBlock="true"\n\txmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"><App id="app" /></mvc:View>\n',
	"myapp/view/Main.view.xml":'<mvc:View\n\tcontrollerName="myapp.controller.Main"\n\tdisplayBlock="true"\n\txmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns:unified="sap.ui.unified"\n\tcore:require="{\n\t\tformatter: \'myapp/model/formatter\'\n\t}"><Page\n\t\ttitle="{i18n>appTitle}"\n\t\tid="page"><content><IllustratedMessage\n\t\t\t\ttitle="{i18n>appTitle}"\n\t\t\t\tillustrationType="sapIllus-SuccessHighFive"\n\t\t\t\tenableVerticalResponsiveness="true"\n\t\t\t\tdescription="{i18n>appDescription}"><additionalContent><Button\n\t\t\t\t\t\tid="helloButton"\n\t\t\t\t\t\ttext="{formatter: \'formatter.formatValue\', path: \'i18n>btnText\'}"\n\t\t\t\t\t\tpress="sayHello" /><VBox class="sapUiMediumMarginTop"><Text text="{i18n>uploadTitle}" class="sapUiMediumMarginBottom" /><VBox class="sapUiMediumMarginBottom"><unified:FileUploader\n\t\t\t\t\t\t\t\tid="imageFileUploader"\n\t\t\t\t\t\t\t\tname="imageUpload"\n\t\t\t\t\t\t\t\ttooltip="{i18n>selectImageTooltip}"\n\t\t\t\t\t\t\t\tchange="onFileChange"\n\t\t\t\t\t\t\t\tfileType="jpg,jpeg,png,gif"\n\t\t\t\t\t\t\t\tmaximumFileSize="10"\n\t\t\t\t\t\t\t\tmimeType="image/jpeg,image/jpg,image/png,image/gif"\n\t\t\t\t\t\t\t\tbuttonText="{i18n>selectImageButton}"\n\t\t\t\t\t\t\t\tplaceholder="{i18n>selectImagePlaceholder}"\n\t\t\t\t\t\t\t\tstyle="Emphasized"\n\t\t\t\t\t\t\t\twidth="100%" /></VBox><VBox id="selectedFilesBox" visible="false" class="sapUiMediumMarginBottom"><Text text="{i18n>selectedFiles}" class="sapUiSmallMarginBottom" /><List id="filesList" items="{/selectedFiles}" mode="Delete" delete="onDeleteFile"><StandardListItem\n\t\t\t\t\t\t\t\t\ttitle="{name}"\n\t\t\t\t\t\t\t\t\tdescription="{i18n>fileSize}: {size}"\n\t\t\t\t\t\t\t\t\ticon="sap-icon://document-text"\n\t\t\t\t\t\t\t\t\ttype="Active" /></List></VBox><Button\n\t\t\t\t\t\t\tid="uploadButton"\n\t\t\t\t\t\t\ttext="{i18n>uploadButton}"\n\t\t\t\t\t\t\tpress="onUploadPress"\n\t\t\t\t\t\t\ttype="Emphasized"\n\t\t\t\t\t\t\ticon="sap-icon://upload"\n\t\t\t\t\t\t\tenabled="false"\n\t\t\t\t\t\t\twidth="100%" /></VBox></additionalContent></IllustratedMessage></content></Page></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
